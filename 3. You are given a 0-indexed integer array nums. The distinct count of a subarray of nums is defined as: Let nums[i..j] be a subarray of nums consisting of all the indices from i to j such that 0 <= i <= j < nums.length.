nums = [1, 2, 1]
total = 0
n = len(nums)
for i in range(n):
    dist_val = set()
    for j in range(i, n):
        dist_val.add(nums[j])
        total += len(dist_val) ** 2
print(total)
